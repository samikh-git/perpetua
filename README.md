# Localrag

*Augment your projects with a RAG agent*

This project aims to create an assistant that is able to answer questions about your codebase. This tool is intended to be helpful for very large codebases that the user does not have a lot of knowledge of. It should be helpful to ask questions about the project and save time having to read through the whole codebase each time.

This tool is based in the command line and is supposed to be used similarly to git. The project is initialized with the creation of a `.rag` directory that contains the following: 

* `database.db`: a sqlite database to keep track of tracked files and for graph state for the agent
* `milvus.db`: a Milvus Lite vector store for the RAG operations
* `repo.txt`: a text file that keeps track of the repo structure for the agent to understand the structure of the project. 
* `threads.txt`: a text file that keeps track of the thread id for the agent.
* `staging`: the staging directory

The principal commands of this project are: 

* `localrag init`: intializes a localrag project. Creates the .rag directory
* `localrag add file/to/path`: adds a file/directory to the staging area
* `localrag rm file/to/path`: removes a file from the staging area
* `localrag commit`: vectorizes staged file
* `localrag ask`: prompts the agent

The CLI functionality was implemented using Typer. This is a very straightforward API to use to create a CLI. I would definitely recommend it. The agent was orchestrated using langgraph with langchain. The vector store is Milvus Lite and search is provided through Tavily. The relational database is Sqlite. The package is built using Poetry.

The requirements can be installed by running `pip install -r requirements.txt`.

This directory is sturctured in two subdirectory: 

1. localrag - the poetry package -- this is what you should install with poetry to get the package in your environment using `poetry install`.
2. test - a mockup weather app -- this is what I used to test the package. This is totally boilerplate and generated by cursor. It provides code that has some complexity to see if localrag works. I would recommend it for testing as some of the commands interact with files and may modify them if there is an error.

In localrag, you will find the files for the project. Some highlights: 

**app.py:**

This file contains the logic for the CLI.

**rag/rag.py:**

This file contains the logic for the agent.

**rag/document_processing.py:**

This file contains a class that is used to abstract for adding files to the vector store and relational database.


This is a very small app and is not very complicated. Please feel free to modify it rather extensively as it is not that hard to restore. 

